<div class="expedientes-header">
  <button mat-flat-button color="primary" (click)="createDossier()">
    Nuevo expediente
  </button>
</div>

<div *ngIf="dossiers.length > 0">

<table mat-table [dataSource]="dossiers" class="mat-elevation-z2 dossier-table">

  <!-- Código -->
  <ng-container matColumnDef="code">
    <th mat-header-cell *matHeaderCellDef>Código</th>
    <td mat-cell *matCellDef="let d">
      <a [routerLink]="['/dossiers', d.id]">{{ d.code }}</a>
    </td>
  </ng-container>

    <!-- Título -->
  <ng-container matColumnDef="title">
    <th mat-header-cell *matHeaderCellDef>Título</th>
    <td mat-cell *matCellDef="let d">{{ d.title }}</td>
  </ng-container>

  <!-- Estado -->
  <ng-container matColumnDef="status">
    <th mat-header-cell *matHeaderCellDef>Estado</th>
    <td mat-cell *matCellDef="let d">{{ d.status | dossierStatus }}</td>
  </ng-container>

  <!-- PVP -->
  <ng-container matColumnDef="pvp">
    <th mat-header-cell *matHeaderCellDef>PVP</th>
    <td mat-cell *matCellDef="let d">{{ d.total_pvp | currency:'EUR' }}</td>
  </ng-container>

  <!-- Cobrado -->
  <ng-container matColumnDef="paid">
    <th mat-header-cell *matHeaderCellDef>Cobrado</th>
    <td mat-cell *matCellDef="let d">{{ d.total_paid | currency:'EUR' }}</td>
  </ng-container>

  <!-- Facturado -->
  <ng-container matColumnDef="invoiced">
    <th mat-header-cell *matHeaderCellDef>Facturado</th>
    <td mat-cell *matCellDef="let d">{{ d.total_invoiced | currency:'EUR' }}</td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
</table>
</div>
